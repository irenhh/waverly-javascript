{"version":3,"sources":["components/NewsTable/style.ts","components/TableRow/style.ts","components/TableRow/MobileTableRow.tsx","components/TableRow/DesktopTableRow.tsx","components/TableRow/TableRow.tsx","components/NewsTable/NewsTable.tsx","lib/helpers/getData.ts","lib/constants/fetch-constants.ts","style.ts","components/Loader/style.ts","components/Loader/Loader.tsx","components/ErrorPage/style.ts","components/ErrorPage/ErrorPage.tsx","App.tsx","index.jsx","lib/constants/theme.ts"],"names":["Table","styled","table","theme","css","color","lightGrey","TableHead","thead","pink","brown","DataRow","tr","transition","duration","ease","StoryTitle","p","lightBlack","StoryLink","a","StoryAuthor","span","AuthorKarma","lightPink","darkBlue","StoryDate","div","StoryScore","MobileTableRow","story","date","title","href","url","target","rel","by","author","karma","score","DesktopTableRow","TableRow","isMobile","storyDate","Date","time","toLocaleDateString","year","month","day","NewsTable","stories","useState","window","innerWidth","setMobile","useEffect","onResize","addEventListener","removeEventListener","map","key","id","getData","fetch","then","data","json","getNewsIds","getStoryData","getAuthorData","MainContainer","TableHeading","h1","LoaderContainer","Loader","ErrorText","purple","ErrorPage","App","setStories","isLoading","setIsLoading","isError","setError","slice","slicedNews","Promise","newsId","all","preparedNews","sortedNews","sort","b","fetchData","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.eebebcf4.chunk.js","sourcesContent":["import styled, { css } from 'styled-components';\n\nexport const Table = styled.table`\n  ${({ theme }) => css`\n    box-shadow: 0 0 5px rgba(0, 0, 0, 0.2);\n    border-radius: 8px;\n    border-collapse: collapse;\n    \n    th,\n    td {\n      border: none;\n      padding: 15px 20px;\n    }\n    \n    tr {\n      border-bottom: 1px solid ${theme.color.lightGrey};\n      &:last-child {\n        border: none;\n      }\n    }\n  `}\n`;\n\nexport const TableHead = styled.thead`\n  ${({ theme }) => css`\n    background-color: ${theme.color.pink};\n    color: ${theme.color.brown};\n    font-weight: 600;\n    font-size: 12px;\n    line-height: 15px;\n    letter-spacing: 0.05em;\n    text-transform: uppercase;\n    text-align: left;\n    border-bottom: 1px solid ${theme.color.lightGrey};\n  `}\n`;\n","import styled, { css } from 'styled-components';\n\nexport const DataRow = styled.tr`\n  ${({ theme }) => css`\n    transition: background-color ${theme.transition.duration} ${theme.transition.ease};\n    \n    &:hover {\n      background-color: ${theme.color.pink};\n    }\n  `}\n`;\n\nexport const StoryTitle = styled.p`\n  ${({ theme }) => css`\n    color: ${theme.color.lightBlack};\n    font-weight: 500;\n    font-size: 14px;\n    line-height: 17px;\n    margin-bottom: 5px;\n  `}\n`;\n\nexport const StoryLink = styled.a`\n  ${({ theme }) => css`\n    color: ${theme.color.brown}\n    font-weight: normal;\n    font-size: 14px;\n    line-height: 17px;\n    letter-spacing: 0.05em;\n    transition: all ${theme.transition.duration} ${theme.transition.ease};\n    position: relative;\n    \n    &:before,\n    &:after {\n      content: \"\";\n      position: absolute;\n      bottom: -3px;\n      height: 1px;\n      opacity: 0;\n      background-color: ${theme.color.brown};\n      width: 25%;\n      transition: all ${theme.transition.duration} ${theme.transition.ease};\n    }\n    \n    &:before {\n      left: 50%;\n    }\n    \n    &:after {\n      right: 50%;\n    }\n    \n    &:hover {\n      cursor: pointer;\n      &:before,\n      &:after {\n        width: 50%;\n        opacity: 1;\n      }\n      \n\n  `}\n`;\n\nexport const StoryAuthor = styled.span`\n  ${({ theme }) => css`\n    color: ${theme.color.brown};\n    font-weight: 500;\n    font-size: 12px;\n    line-height: 15px;\n  `}\n`;\n\nexport const AuthorKarma = styled.span`\n  ${({ theme }) => css`\n    background: ${theme.color.lightPink};\n    border-radius: 10px;  \n    color: ${theme.color.darkBlue};\n    font-weight: 500;\n    font-size: 12px;\n    line-height: 15px;\n    margin-left: 5px;\n    padding: 2px 10px;\n    cursor: default;\n  `}\n`;\n\nexport const StoryDate = styled.div`\n  ${({ theme }) => css`\n    color: ${theme.color.lightBlack};\n    font-weight: 500;\n    font-size: 12px;\n    line-height: 15px;\n  `}\n`;\n\nexport const StoryScore = styled.div`\n  ${({ theme }) => css`\n    color: ${theme.color.lightBlack};\n    font-weight: 500;\n    font-size: 14px;\n    line-height: 17px;\n    text-transform: uppercase;\n  `}\n`;\n","import React, { FC } from 'react';\nimport { NewsData } from '../../lib/helpers/getData.types';\nimport {\n  AuthorKarma, StoryAuthor, StoryDate, StoryLink, StoryScore, StoryTitle,\n} from './style';\n\ntype Props = {\n  story: NewsData;\n  date: string;\n}\n\nexport const MobileTableRow: FC<Props> = ({\n  story,\n  date,\n}) => (\n  <>\n    <td>\n      <StoryTitle>{story.title}</StoryTitle>\n\n      <div>\n        <StoryLink\n          href={story.url}\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          See details\n        </StoryLink>\n      </div>\n      <StoryAuthor>{`by ${story.by}`}</StoryAuthor>\n      <AuthorKarma title=\"karma points\">{story.author.karma}</AuthorKarma>\n    </td>\n    <td>\n      <StoryScore>{story.score}</StoryScore>\n      <StoryDate>{date}</StoryDate>\n    </td>\n  </>\n);\n","import React, { FC } from 'react';\nimport { NewsData } from '../../lib/helpers/getData.types';\nimport { AuthorKarma, StoryAuthor, StoryDate, StoryLink, StoryScore, StoryTitle } from './style';\n\ntype Props = {\n  story: NewsData;\n  date: string;\n}\n\nexport const DesktopTableRow: FC<Props> = ({\n  story,\n  date,\n}) => (\n  <>\n    <td>\n      <StoryTitle>{story.title}</StoryTitle>\n\n      <StoryLink\n        href={story.url}\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n      >\n        See details\n      </StoryLink>\n    </td>\n    <td>\n      <div>\n        <StoryAuthor>{story.by}</StoryAuthor>\n        <AuthorKarma title=\"karma points\">{story.author.karma}</AuthorKarma>\n      </div>\n    </td>\n    <td>\n      <StoryDate>{date}</StoryDate>\n    </td>\n    <td>\n      <StoryScore>{story.score}</StoryScore>\n    </td>\n  </>\n);\n","import React, { FC } from 'react';\nimport { NewsData } from '../../lib/helpers/getData.types';\nimport { DataRow } from './style';\nimport { MobileTableRow } from './MobileTableRow';\nimport { DesktopTableRow } from './DesktopTableRow';\n\ntype Props = {\n  story: NewsData;\n  isMobile: boolean;\n}\n\nexport const TableRow: FC<Props> = ({\n  story,\n  isMobile,\n}) => {\n  const storyDate = new Date(story.time).toLocaleDateString('en-US', {\n    year: 'numeric', month: 'long', day: 'numeric',\n  });\n\n  return (\n    <DataRow>\n      {isMobile\n        ? (\n          <MobileTableRow story={story} date={storyDate} />\n        ) : (\n          <DesktopTableRow story={story} date={storyDate} />\n        )}\n    </DataRow>\n  );\n};\n","import React, { FC, useEffect, useState } from 'react';\nimport { NewsData } from '../../lib/helpers/getData.types';\nimport { Table, TableHead } from './style';\nimport { TableRow } from '../TableRow';\n\ninterface Props {\n  stories: NewsData[];\n}\n\nexport const NewsTable: FC<Props> = ({\n  stories,\n}) => {\n  const [isMobile, setMobile] = useState<boolean>(window.innerWidth <= 500);\n\n  useEffect(() => {\n    const onResize = () => {\n      window.innerWidth <= 500\n        ? setMobile(true)\n        : setMobile(false);\n    };\n\n    window.addEventListener('resize', onResize);\n\n    return () => {\n      window.removeEventListener('resize', onResize);\n    };\n  }, []);\n\n  return (\n    <Table>\n      {!isMobile && (\n        <TableHead>\n          <tr>\n            <th>Story</th>\n            <th>User</th>\n            <th>Date</th>\n            <th>Score</th>\n          </tr>\n        </TableHead>\n      )}\n\n      <tbody>\n        {stories.map((story) => (\n          <TableRow\n            key={story.id}\n            story={story}\n            isMobile={isMobile}\n          />\n        ))}\n      </tbody>\n    </Table>\n  );\n};\n","import { AUTHOR_URL, NEWS_URL, STORY_URL } from '../constants/fetch-constants';\nimport { AuthorData, NewsIdData, StoryData } from './getData.types';\n\nexport const getData = async (url: string) => (\n  fetch(url).then((data) => data.json())\n);\n\nexport const getNewsIds = async (): Promise<NewsIdData> => getData(NEWS_URL);\n\nexport const getStoryData = async (id: number): Promise<StoryData> => (\n  getData(`${STORY_URL}/${id}.json`)\n);\n\nexport const getAuthorData = async (id: string): Promise<AuthorData> => (\n  getData(`${AUTHOR_URL}/${id}.json`)\n);\n","export const NEWS_URL = 'https://hacker-news.firebaseio.com/v0/topstories.json';\nexport const STORY_URL = 'https://hacker-news.firebaseio.com/v0/item';\nexport const AUTHOR_URL = 'https://hacker-news.firebaseio.com/v0/user';\n","import styled, { css } from 'styled-components';\n\nexport const MainContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  max-width: 1400px;\n  margin: auto;\n`;\n\nexport const TableHeading = styled.h1`\n  ${({ theme }) => css`\n    font-weight: bold;\n    font-size: 14px;\n    line-height: 17px;\n    letter-spacing: 0.1em;\n    text-transform: uppercase;\n    color: ${theme.color.brown};\n    margin-bottom: 20px;\n  `}\n`;\n","import styled, { css } from 'styled-components';\n\nexport const LoaderContainer = styled.div`\n  ${({ theme }) => css`\n    display: inline-block;\n    position: relative;\n    width: 64px;\n    height: 64px;\n    \n    div {\n      position: absolute;\n      background: ${theme.color.brown};\n      opacity: 1;\n      border-radius: 50%;\n      animation: loading 1.4s cubic-bezier(0, 0.2, 0.8, 1) infinite;\n    }\n    \n    div:nth-child(2) {\n      animation-delay: -.7s;\n    }\n    \n    @keyframes loading {\n      0% {\n        top: 28px;\n        left: 28px;\n        width: 0;\n        height: 0;\n        opacity: 1;\n      }\n      100% {\n        top: -1px;\n        left: -1px;\n        width: 58px;\n        height: 58px;\n        opacity: 0;\n      }\n    }\n  `}\n`;\n","import React from 'react';\nimport { LoaderContainer } from './style';\n\nexport const Loader = () => (\n  <LoaderContainer>\n    <div />\n    <div />\n  </LoaderContainer>\n);\n","import styled, { css } from 'styled-components';\n\nexport const ErrorText = styled.p`\n  ${({ theme }) => css`\n    color: ${theme.color.purple};\n    font-weight: 600;\n    font-size: 24px;\n  `}\n`;\n","import React from 'react';\nimport { ErrorText } from './style';\n\nexport const ErrorPage = () => <ErrorText>Something went wrong...</ErrorText>;\n","import React, { useState, useEffect, FC } from 'react';\nimport { NewsTable } from './components/NewsTable';\nimport { getAuthorData, getNewsIds, getStoryData } from './lib/helpers/getData';\nimport { NewsData } from './lib/helpers/getData.types';\nimport { MainContainer, TableHeading } from './style';\nimport { Loader } from './components/Loader';\nimport { ErrorPage } from './components/ErrorPage';\n\nconst App: FC = () => {\n  const [stories, setStories] = useState<NewsData[]>([]);\n  const [isLoading, setIsLoading] = useState<boolean>(false);\n  const [isError, setError] = useState<boolean>(false);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      setIsLoading(true);\n\n      try {\n        const slicedNews = await getNewsIds().then((data) => data.slice(0, 10));\n\n        const preparedNews = await Promise.all(\n          await slicedNews.map(async (newsId) => {\n            const story = await getStoryData(newsId);\n            const author = await getAuthorData(story.by);\n\n            return {\n              ...story,\n              author,\n            };\n          }),\n        );\n\n        const sortedNews = preparedNews.sort((a, b) => a.score - b.score);\n\n        setStories(sortedNews);\n        setIsLoading(false);\n      } catch (error) {\n        setError(true);\n      }\n    };\n\n    fetchData();\n  }, []);\n\n  if (isError) {\n    return <ErrorPage />;\n  }\n\n  return (\n    <MainContainer>\n      <TableHeading>Hacker News</TableHeading>\n      {isLoading\n        ? <Loader />\n        : (stories && <NewsTable stories={stories} />)\n      }\n    </MainContainer>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport { ThemeProvider } from 'styled-components';\nimport App from './App';\nimport { theme } from './lib/constants/theme';\n\nReactDOM.render(\n  <React.StrictMode>\n    <ThemeProvider theme={theme}>\n      <App />\n    </ThemeProvider>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","export const theme = {\n  color: {\n    pink: '#f4f2ff',\n    lightPink: '#f2f0f9',\n    brown: '#6e6893',\n    lightBlack: '#25213b',\n    purple: '#6d5bd0',\n    darkBlue: '#4a4aff',\n    lightGrey: '#d9d5ec',\n  },\n\n  transition: {\n    duration: '0.35s',\n    ease: 'cubic-bezier(.3, .1, .3, 1)',\n  },\n};\n"],"sourceRoot":""}